(function(){"use strict";var e={9995:function(e,t,a){var s=a(144),r=a(998),o=a(6232),i=a(3423),n=a(6190),l=a(2118),c=a(5808),m=a(4525),u=a(6098),d=a(3059),p=a(4528),h=a(9258),f=a(3687),v=a(7953),b=function(){var e=this,t=e._self._c;return t(r.Z,[t(o.Z,{attrs:{app:"",color:"primary",dark:""}},[t(v.qW,{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toRoot()}}},[e._v(e._s(e.appName))]),t(f.Z),e.loginStatus?t(v.lj,[t(p.Z,{attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(n.Z,e._g({staticStyle:{cursor:"default"},attrs:{text:""}},a),[t(i.Z,{staticClass:"mr-3",attrs:{size:"40"}},[t("img",{attrs:{src:e.userIcon}})]),e._v(e._s(e.userName))],1)]}}],null,!1,4007436275)},[t(c.Z,[t(m.Z,{attrs:{link:""}},[t(u.km,[t(u.V9,{on:{click:e.logout}},[e._v("ログアウト")])],1)],1)],1)],1),t(p.Z,{attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(n.Z,e._g({staticStyle:{cursor:"default"},attrs:{text:""}},a),[e._v("設定")])]}}],null,!1,2185790517)},[t(c.Z,[t(m.Z,{attrs:{link:"",to:"/admins"}},[t(u.km,[t(u.V9,[e._v("管理者設定")])],1)],1),t(m.Z,{attrs:{link:"",to:"/departments"}},[t(u.km,[t(u.V9,[e._v("部署設定")])],1)],1),t(m.Z,{attrs:{link:"",to:"/users"}},[t(u.km,[t(u.V9,[e._v("従業員設定")])],1)],1),t(m.Z,{attrs:{link:"",to:"/routes"}},[t(u.km,[t(u.V9,[e._v("申請ルート設定")])],1)],1),t(m.Z,{attrs:{link:"",to:"/settings"}},[t(u.km,[t(u.V9,[e._v("アプリ設定")])],1)],1),t(m.Z,{attrs:{link:"",to:"/item_dialog_test"}},[t(u.km,[t(u.V9,[e._v("ItemDIalogTest")])],1)],1),t(m.Z,{attrs:{link:"",to:"/form_reactivity_test"}},[t(u.km,[t(u.V9,[e._v("FormReactivityTest")])],1)],1),t(m.Z,{attrs:{link:"",to:"/send_email_test"}},[t(u.km,[t(u.V9,[e._v("SendEmailTest")])],1)],1)],1)],1)],1):e._e()],1),t(d.Z,[t(l.Z,{attrs:{fluid:""}},[t("router-view")],1)],1),t(h.Z,{attrs:{color:"info"},scopedSlots:e._u([{key:"action",fn:function({attrs:a}){return[t(n.Z,e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")])],1)},g=[],D=(a(7658),a(629)),_={name:"App",data(){return{snackbar:!1,message:""}},computed:{...(0,D.rn)({appName:e=>e.workflow.settings.appName,authMessage:e=>e.firebase.authMessage,workflowMessage:e=>e.firestore.workflowMessage}),...(0,D.Se)({userName:"firebase/getUserName",userIcon:"firebase/getUserIcon",loginStatus:"firebase/getLoginStatus"})},beforeCreate(){this.$store.dispatch("workflow/loadSettings")},methods:{async logout(){await this.$store.dispatch("firebase/logout")},toRoot(){const e=this.$route.path;"/"!=e?this.$router.push("/"):this.$router.go({path:"/",force:!0})}},watch:{authMessage(){this.message=this.authMessage,this.snackbar=!0},workflowMessage(){this.message=this.workflowMessage,this.snackbar=!0}}},k=_,y=a(1001),Z=(0,y.Z)(k,b,g,!1,null,null,null),w=Z.exports,T=a(8345),q=a(3387),x=a(9582),C=a(4886),I=a(266),A=a(1713),R=function(){var e=this,t=e._self._c;return t(A.Z,{attrs:{justify:"center"}},[t(I.Z,{attrs:{cols:"12",sm:"12",md:"4"}},[t(x.Z,{attrs:{height:"200px"}},[t(C.EB,{staticClass:"justify-center",attrs:{"mb-3":""}},[t("h1",{staticClass:"display-1"},[e._v("ログイン")])]),t(C.h7,{staticClass:"justify-center"},[t(n.Z,{staticStyle:{"text-transform":"none"},attrs:{width:"80%"},on:{click:e.loginWithGoogle}},[t("svg",{staticClass:"mr-3",attrs:{width:"18",height:"18",viewBox:"0 0 18 18"}},[t("path",{attrs:{d:"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 002.38-5.88c0-.57-.05-.66-.15-1.18z",fill:"#4285F4"}}),t("path",{attrs:{d:"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 01-7.18-2.54H1.83v2.07A8 8 0 008.98 17z",fill:"#34A853"}}),t("path",{attrs:{d:"M4.5 10.52a4.8 4.8 0 010-3.04V5.41H1.83a8 8 0 000 7.18l2.67-2.07z",fill:"#FBBC05"}}),t("path",{attrs:{d:"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 001.83 5.4L4.5 7.49a4.77 4.77 0 014.48-3.3z",fill:"#EA4335"}})]),e._v(" Login with Google ")])],1)],1)],1)],1)},N=[],S={name:"Login",data(){return{redirect:null}},methods:{async loginWithGoogle(){this.redirect=this.$route.query.redirect,await this.$store.dispatch("firebase/login"),this.redirect?this.$router.push(this.redirect):this.$router.push("/")}}},E=S,B=(0,y.Z)(E,R,N,!1,null,null,null),U=B.exports,$=a(5125),P=a(7808),O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-wrapper"},[t("p",[e._v("※設定はこのデバイスのみに保存されます。")]),t($.Z,{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("h3",[e._v("アプリ設定")]),t(P.Z,{attrs:{label:"アプリ名",counter:30,rules:[e.appNameRule]},model:{value:e.settings.appName,callback:function(t){e.$set(e.settings,"appName",t)},expression:"settings.appName"}}),t(P.Z,{attrs:{label:"API URL",counter:150,rules:[e.stringRule]},model:{value:e.settings.apiUrl,callback:function(t){e.$set(e.settings,"apiUrl",t)},expression:"settings.apiUrl"}}),t(P.Z,{attrs:{label:"Auth Token",counter:150,rules:[e.stringRule]},model:{value:e.settings.authToken,callback:function(t){e.$set(e.settings,"authToken",t)},expression:"settings.authToken"}}),t(A.Z,{staticClass:"mt-4"},[t(f.Z),t(n.Z,{attrs:{color:"primary",disabled:!e.valid},on:{click:e.onClickSave}},[e._v("保存")])],1)],1)],1)},M=[],V={name:"Settings",data(){return{settings:{...this.$store.state.workflow.settings},valid:!1,appNameRule:e=>e.length<=30||"30文字以内で入力してください",stringRule:e=>e.length<=150||"150文字以内で入力してください"}},methods:{onClickSave(){this.$store.dispatch("workflow/saveSettings",{settings:this.settings})}}},j=V,F=(0,y.Z)(j,O,M,!1,null,null,null),J=F.exports,L=a(1154),H=a(4127),W=a(3863),Y=a(4324),Q=a(626),z=a(2769),G=function(){var e=this,t=e._self._c;return t("div",[t(A.Z,[t(I.Z,{attrs:{cols:"12",md:"6",xs:"12"}},[t(z.Z,{attrs:{grow:"",color:"primaryDarken"}},[t(Q.Z,{on:{click:function(t){return e.onClickTab("myRequests")}}},[e._v("自分の申請")]),t(Q.Z,{on:{click:function(t){return e.onClickTab("othersRequests")}}},[e.numberOfOthersRequests?[t(L.Z,{attrs:{color:"info",content:e.numberOfOthersRequests}},[e._v("承認依頼")])]:[e._v("承認依頼")]],2)],1)],1)],1),t(x.Z,[t(C.EB,[t(I.Z,{attrs:{cols:"8"}},[t("div",{staticClass:"h5"},[e._v(" "+e._s(e.title)+" ")])]),t(f.Z),t(I.Z,{staticClass:"text-right",attrs:{cols:"4"}},[t(n.Z,{attrs:{dark:"",color:"secondary"},on:{click:e.onClickAdd}},[t(Y.Z,[e._v("mdi-plus")])],1)],1),t(I.Z,{attrs:{cols:"12"}},[t(P.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(W.Z,{staticClass:"text-no-wrap",attrs:{headers:e.tableHeaders,items:e.tableData,search:e.search,"footer-props":e.footerProps,"sort-by":"common.created_at","sort-desc":!0,"items-per-page":30,"mobile-breakpoint":"0"},on:{"click:row":e.onClickRow},scopedSlots:e._u([{key:"item.common.created_at",fn:function({item:t}){return[e._v(e._s(e.formatDate(t)))]}},{key:"item.common.status",fn:function({item:a}){return[t(H.Z,{staticClass:"ma-2",attrs:{color:e.statusColor(a),"text-color":"white"}},[t(Y.Z,{attrs:{left:""}},[e._v(" "+e._s(e.statusIcon(a))+" ")]),e._v(" "+e._s(a.common.status)+" ")],1)]}}],null,!0)})],1),t("ItemDialogRequests",{ref:"ItemDialogRequests"})],1)},K=[],X=a(9930),ee=a(9223),te=a(9481),ae=a(2648),se=function(){var e=this,t=e._self._c;return t(X.Z,{attrs:{scrollable:"",persistent:"","max-width":"500px",eager:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(x.Z,[t(C.EB,[e._v(e._s(e.titleText))]),t(ee.Z),t(C.ZB,[t($.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(te.Z,{attrs:{label:"申請種別",items:e.selectReqestType,rules:e.requestTypeRules,disabled:"edit"==e.actionType,"return-object":""},model:{value:e.formBind.common.request_type,callback:function(t){e.$set(e.formBind.common,"request_type",t)},expression:"formBind.common.request_type"}}),t(P.Z,{attrs:{label:"タイトル",rules:e.titleRules},model:{value:e.formBind.common.title,callback:function(t){e.$set(e.formBind.common,"title",t)},expression:"formBind.common.title"}}),"paid_leave"==e.formBind.common.request_type.value?t("div",[t(ae.Z,{attrs:{label:"事由",rules:e.reasonRules,rows:"3"},model:{value:e.formBind.unique.paid_leave.reason,callback:function(t){e.$set(e.formBind.unique.paid_leave,"reason",t)},expression:"formBind.unique.paid_leave.reason"}}),t(ae.Z,{attrs:{label:"予定日時",rules:e.dateRules,rows:"3"},model:{value:e.formBind.unique.paid_leave.date,callback:function(t){e.$set(e.formBind.unique.paid_leave,"date",t)},expression:"formBind.unique.paid_leave.date"}}),t(P.Z,{attrs:{label:"緊急連絡先",rules:e.contactRules},model:{value:e.formBind.unique.paid_leave.contact,callback:function(t){e.$set(e.formBind.unique.paid_leave,"contact",t)},expression:"formBind.unique.paid_leave.contact"}}),t(ae.Z,{attrs:{label:"備考",rows:"3"},model:{value:e.formBind.unique.paid_leave.memo,callback:function(t){e.$set(e.formBind.unique.paid_leave,"memo",t)},expression:"formBind.unique.paid_leave.memo"}})],1):"equipment"==e.formBind.common.request_type.value?t("div",[t(ae.Z,{attrs:{label:"商品名",rules:e.itemNameRules,rows:"3"},model:{value:e.formBind.unique.equipment.item_name,callback:function(t){e.$set(e.formBind.unique.equipment,"item_name",t)},expression:"formBind.unique.equipment.item_name"}}),t(ae.Z,{attrs:{label:"購入理由",rules:e.reasonRules,rows:"3"},model:{value:e.formBind.unique.equipment.reason,callback:function(t){e.$set(e.formBind.unique.equipment,"reason",t)},expression:"formBind.unique.equipment.reason"}}),t(ae.Z,{attrs:{label:"備考",rows:"3"},model:{value:e.formBind.unique.equipment.memo,callback:function(t){e.$set(e.formBind.unique.equipment,"memo",t)},expression:"formBind.unique.equipment.memo"}})],1):e._e()],1)],1),t(ee.Z),t(C.h7,[t(f.Z),t(n.Z,{attrs:{color:"grey darken-1",text:""},on:{click:e.onClickClose}},[e._v(" キャンセル ")]),t(n.Z,{attrs:{color:"primary",text:"",disabled:!e.valid},on:{click:e.onClickAction}},[e._v(" "+e._s(e.actionText)+" ")])],1)],1)],1)},re=[],oe=a(1294),ie=a(7632),ne={name:"ItemDialogRequests",data(){return{selectReqestType:[{text:"休暇申請",value:"paid_leave"},{text:"備品申請",value:"equipment"}],show:!1,valid:!1,menu:!1,actionType:"add",formBind:{common:{request_type:{text:"",value:""},current_step:"",max_step:"",status:"",current_approver_email:"",created_at:"",email:"",name:"",department:"",title:"",routes:{approvers:[]},comments:[]},unique:{paid_leave:{reason:"",date:"",contact:"",memo:""},equipment:{item_name:"",reason:"",memo:""}}},requestTypeRules:[],titleRules:[e=>e.trim().length>0||"タイトルは必須です"],reasonRules:[e=>e.trim().length>0||"事由は必須です"],dateRules:[e=>e.trim().length>0||"予定日時は必須です"],contactRules:[e=>e.trim().length>0||"緊急連絡先は必須です"],itemNameRules:[e=>e.trim().length>0||"商品名は必須です"]}},computed:{...(0,D.rn)({userInfo:e=>e.firestore.userInfo}),titleText(){return"add"===this.actionType?"データ追加":"データ編集"},actionText(){return"add"===this.actionType?"追加":"更新"}},methods:{...(0,D.Se)({getUserEmail:"firebase/getUserEmail",getArrayRoute:"firestore/getArrayRoute"}),...(0,D.nv)({addDocumentAsSubCollection:"firestore/addDocumentAsSubCollection",updateDocumentInSubCollection:"firestore/updateDocumentInSubCollection",fetchUserInfo:"firestore/fetchUserInfo",createArrayRoute:"firestore/createArrayRoute",sendEmail:"firestore/sendEmail"}),open(e,t={}){this.show=!0,this.actionType=e,this.resetForm(t)},onClickClose(){this.show=!1},async onClickAction(){if("add"===this.actionType){const e=(0,ie.Z)(),t=this.getUserEmail(),a=await this.createItem(e,t);await this.addDocumentAsSubCollection({uid:e,userId:t,item:a}),this.show=!1;const s=a.common.routes.approvers[0].email;this.$emit("submitOnClickAction",s)}else{const e=this.getUserEmail(),t=this.formBind.id,a=this.updateItem();console.log(a),await this.updateDocumentInSubCollection({userId:e,docId:t,item:a}),this.show=!1,this.$emit("submitEdit",a);const s=a.common.routes.approvers[0].email;this.$emit("submitOnClickAction",s)}},updateItem(){const e=this.formBind;return e.common.current_approver_email=e.common.routes.approvers[0].email,e.common.current_step=1,e.common.status="保留中",e.common.routes.approvers.forEach((e=>{e.status="保留中"})),e},async createItem(e,t){const a=this.formBind.common.request_type.value;await this.fetchUserInfo({userId:t});const s=this.userInfo.department;await this.createArrayRoute({requestTypeValue:a,department:s});const r=this.getArrayRoute()[0],o=[];r.approvers.forEach((e=>{o.push({...e,status:"保留中"}),r.approvers=o}));const i=1,n=r.approvers.length,l=e=>{switch(e){case"paid_leave":{const e={paid_leave:{reason:this.formBind.unique.paid_leave.reason,date:this.formBind.unique.paid_leave.date,contact:this.formBind.unique.paid_leave.contact,memo:this.formBind.unique.paid_leave.memo}};return e}case"equipment":{const e={equipment:{item_name:this.formBind.unique.equipment.item_name,reason:this.formBind.unique.equipment.reason,memo:this.formBind.unique.equipment.memo}};return e}}},c=l(a),m={id:e,common:{request_type:this.formBind.common.request_type,current_step:i,max_step:n,status:"保留中",current_approver_email:r.approvers[0].email,created_at:(0,oe.Bt)(),email:this.userInfo.id,name:this.userInfo.name,department:this.userInfo.department,title:this.formBind.common.title,routes:{approvers:r.approvers},comments:[]},unique:{...c}};return m},resetForm(e){if("edit"==this.actionType)this.formBind=JSON.parse(JSON.stringify(e)),this.formBind.common.created_at=e.common.created_at;else{const e=Object.keys(this.formBind.common);e.forEach((e=>{this.formBind.common[e]=""}));const t=Object.keys(this.formBind.unique);t.forEach((e=>{const t=Object.keys(this.formBind.unique[e]);t.forEach((t=>{this.formBind.unique[e][t]=""}))}))}this.$refs.form.resetValidation()},createEmailBody(e,t){const a=`${e}<br><br>詳細は下記リンクからご確認ください。<br><br><a href="${t}">${t}</a>`;return a}}},le=ne,ce=(0,y.Z)(le,se,re,!1,null,null,null),me=ce.exports,ue={name:"RequestOverView",components:{ItemDialogRequests:me},data(){return{currentTableName:"myRequests",title:"申請一覧",search:"",tableData:[]}},computed:{...(0,D.rn)({myRequests:e=>e.firestore.myRequests,othersRequests:e=>e.firestore.othersRequests,selectedTabName:e=>e.firestore.selectedTabName}),tableHeaders(){return[{text:"作成日時",value:"common.created_at"},{text:"申請種別",value:"common.request_type.text",sortable:!1},{text:"ステータス",value:"common.status",sortable:!1},{text:"タイトル",value:"common.title",sortable:!1},{text:"申請者",value:"common.name",sortable:!1},{text:"部署",value:"common.department",sortable:!1}]},footerProps(){return{itemsPerPageText:"",itemsPerPageOptions:[30,-1]}},numberOfOthersRequests(){return this.othersRequests.length}},methods:{...(0,D.nv)({fetchMyRequests:"firestore/fetchMyRequests",fetchOthersRequests:"firestore/fetchOthersRequests",setSelectedTabName:"firestore/setSelectedTabName"}),...(0,D.Se)({getUserEmail:"firebase/getUserEmail"}),onClickAdd(){this.$refs.ItemDialogRequests.open("add")},onClickRow(e){switch(this.selectedTabName){case"myRequests":this.$router.push({path:`/my/requests/${e.id}`});break;case"othersRequests":this.$router.push({path:`/others/requests/${e.id}`});break}},async onClickTab(e){this.setSelectedTabName({selectedTabName:e});const t=this.getUserEmail();switch(e){case"myRequests":await this.fetchMyRequests({userId:t}),this.tableData=this.myRequests;break;case"othersRequests":this.tableData=this.othersRequests;break}},dateToStr24HPad0(e,t){return t||(t="YYYY/MM/DD hh:mm"),t=t.replace(/YYYY/g,e.getFullYear()),t=t.replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2)),t=t.replace(/DD/g,("0"+e.getDate()).slice(-2)),t=t.replace(/hh/g,("0"+e.getHours()).slice(-2)),t=t.replace(/mm/g,("0"+e.getMinutes()).slice(-2)),t=t.replace(/ss/g,("0"+e.getSeconds()).slice(-2)),t},formatDate(e){return this.dateToStr24HPad0(e.common.created_at.toDate())},statusColor(e){let t="";switch(e.common.status){case"完了":t="success";break;case"保留中":t="info";break;case"否認":t="error";break;case"差戻し":t="warning";break}return t},statusIcon(e){let t="";switch(e.common.status){case"完了":t="mdi-check";break;case"保留中":t="mdi-timer-sand";break;case"否認":t="mdi-cancel";break;case"差戻し":t="mdi-arrow-u-left-bottom";break}return t}},async created(){this.setSelectedTabName({selectedTabName:"myRequests"});const e=this.getUserEmail();await this.fetchMyRequests({userId:e}),await this.fetchOthersRequests({userId:e}),this.tableData=this.myRequests}},de=ue,pe=(0,y.Z)(de,G,K,!1,null,null,null),he=pe.exports,fe=a(8271),ve=a(535),be=a(1744),ge=a(8491),De=function(){var e=this,t=e._self._c;return 0!=e.formData.length?t("div",[t(A.Z,{attrs:{justify:"center"}},[t(I.Z,{attrs:{cols:"12",md:"6",xs:"12"}},[t(x.Z,[e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm?[t(ve.Z,{attrs:{vertical:""},model:{value:e.formData.common.current_step,callback:function(t){e.$set(e.formData.common,"current_step",t)},expression:"formData.common.current_step"}},[e._l(e.formData.common.max_step,(function(a,s){return[void 0!=a?t(ge.Z,{key:`${a}-step`,attrs:{complete:"完了"==e.formData.common.routes.approvers[s].status,step:a,rules:[()=>{const t=["否認"==e.formData.common.routes.approvers[s].status,"差戻し"==e.formData.common.routes.approvers[s].status];return!t.some((e=>1==e))}]}},[e._v(" "+e._s(e.formData.common.routes.approvers[s].name)+" "),t("small",{staticClass:"mt-2"},[e._v(e._s(e.formData.common.routes.approvers[s].status))])]):e._e(),a<e.formData.common.max_step?t("div",{key:`${a}-div`,staticStyle:{"border-left":"1px solid rgba(0,0,0,.25)",height:"30px","margin-left":"36px"}}):e._e()]}))],2)]:[t(ve.Z,{attrs:{"alt-labels":""},model:{value:e.formData.common.current_step,callback:function(t){e.$set(e.formData.common,"current_step",t)},expression:"formData.common.current_step"}},[t(be.Rp,[e._l(e.formData.common.max_step,(function(a,s){return[void 0!=a?t(ge.Z,{key:`${a}-step`,attrs:{complete:"完了"==e.formData.common.routes.approvers[s].status,step:a,rules:[()=>{const t=["否認"==e.formData.common.routes.approvers[s].status,"差戻し"==e.formData.common.routes.approvers[s].status];return!t.some((e=>1==e))}]}},[e._v(" "+e._s(e.formData.common.routes.approvers[s].name)+" "),t("small",{staticClass:"mt-2"},[e._v(e._s(e.formData.common.routes.approvers[s].status))])]):e._e(),a<e.formData.common.max_step?t(ee.Z,{key:`${a}-divider`}):e._e()]}))],2)],1)]],2)],1)],1),t(A.Z,{attrs:{justify:"center"}},[t(I.Z,{attrs:{cols:"12",md:"6",xs:"12"}},[t(x.Z,[t(C.ZB,[t($.Z,{attrs:{readonly:""}},[t(P.Z,{attrs:{label:"タイトル"},model:{value:e.formData.common.title,callback:function(t){e.$set(e.formData.common,"title",t)},expression:"formData.common.title"}}),t(P.Z,{attrs:{label:"作成日時"},model:{value:e.formattedDate,callback:function(t){e.formattedDate=t},expression:"formattedDate"}}),t(P.Z,{attrs:{label:"申請者"},model:{value:e.formData.common.name,callback:function(t){e.$set(e.formData.common,"name",t)},expression:"formData.common.name"}}),t(P.Z,{attrs:{label:"メールアドレス"},model:{value:e.formData.common.email,callback:function(t){e.$set(e.formData.common,"email",t)},expression:"formData.common.email"}}),t(P.Z,{attrs:{label:"部署"},model:{value:e.formData.common.department,callback:function(t){e.$set(e.formData.common,"department",t)},expression:"formData.common.department"}}),"paid_leave"==e.requestTypeValue?t("div",[t(ae.Z,{attrs:{"auto-grow":"",rows:"1",label:"事由"},model:{value:e.formData.unique.paid_leave.reason,callback:function(t){e.$set(e.formData.unique.paid_leave,"reason",t)},expression:"formData.unique.paid_leave.reason"}}),t(ae.Z,{attrs:{"auto-grow":"",rows:"1",label:"予定日時"},model:{value:e.formData.unique.paid_leave.date,callback:function(t){e.$set(e.formData.unique.paid_leave,"date",t)},expression:"formData.unique.paid_leave.date"}}),t(P.Z,{attrs:{label:"緊急連絡先"},model:{value:e.formData.unique.paid_leave.contact,callback:function(t){e.$set(e.formData.unique.paid_leave,"contact",t)},expression:"formData.unique.paid_leave.contact"}}),t(ae.Z,{attrs:{"auto-grow":"",rows:"1",label:"備考"},model:{value:e.formData.unique.paid_leave.memo,callback:function(t){e.$set(e.formData.unique.paid_leave,"memo",t)},expression:"formData.unique.paid_leave.memo"}})],1):"equipment"==e.requestTypeValue?t("div",[t(ae.Z,{attrs:{"auto-grow":"",rows:"1",label:"商品名"},model:{value:e.formData.unique.equipment.item_name,callback:function(t){e.$set(e.formData.unique.equipment,"item_name",t)},expression:"formData.unique.equipment.item_name"}}),t(ae.Z,{attrs:{"auto-grow":"",rows:"1",label:"購入理由"},model:{value:e.formData.unique.equipment.reason,callback:function(t){e.$set(e.formData.unique.equipment,"reason",t)},expression:"formData.unique.equipment.reason"}}),t(ae.Z,{attrs:{"auto-grow":"",rows:"1",label:"備考"},model:{value:e.formData.unique.equipment.memo,callback:function(t){e.$set(e.formData.unique.equipment,"memo",t)},expression:"formData.unique.equipment.memo"}})],1):e._e()],1)],1)],1)],1)],1),t(fe.Z,{attrs:{app:"",padless:""}},[t(I.Z,{staticClass:"text-center",attrs:{col:"12"}},[t(n.Z,{staticClass:"mx-2",attrs:{color:"primary",dark:!e.isDisabledApproveBtn,disabled:e.isDisabledApproveBtn},on:{click:e.onClickApprove}},[e._v("承認")]),t(n.Z,{staticClass:"mx-2",attrs:{color:"primary",dark:!e.isDisabledApproveBtn,disabled:e.isDisabledApproveBtn},on:{click:e.onClickDisapprove}},[e._v("否認")]),t(n.Z,{staticClass:"mx-2",attrs:{color:"primary",dark:!e.isDisabledApproveBtn,disabled:e.isDisabledApproveBtn},on:{click:e.onClickRemand}},[e._v("差戻し")]),t(n.Z,{staticClass:"mx-2",attrs:{color:"primary",dark:!e.isDisabledEditBtn,disabled:e.isDisabledEditBtn},on:{click:e.onClickEdit}},[e._v("編集")])],1)],1),t("ItemDialogRequests",{ref:"ItemDialogRequests",on:{submitEdit:e.updateForm,submitOnClickAction:e.notifyToApprover}})],1):e._e()},_e=[],ke={name:"RequestDetail",components:{ItemDialogRequests:me},data(){return{formData:[],currentTableName:"requests",latestStatus:"",latestApproverEmail:""}},computed:{...(0,D.rn)({requests:e=>e.firestore.requests,selectedTabName:e=>e.firestore.selectedTabName}),...(0,D.Se)({getUserEmail:"firebase/getUserEmail"}),formattedDate(){if(""==this.formData)return null;{const e=this.formData.common.created_at.toDate();return this.dateToStr24HPad0(e)}},requestTypeValue(){return""==this.formData?null:this.formData.common.request_type.value},isDisabledApproveBtn(){if(this.formData.common.current_step){const e=[this.formData.common.routes.approvers[this.formData.common.current_step-1].email!=this.getUserEmail,"完了"==this.formData.common.routes.approvers[this.formData.common.max_step-1].status,"否認"==this.formData.common.routes.approvers[this.formData.common.current_step-1].status,"差戻し"==this.formData.common.routes.approvers[this.formData.common.current_step-1].status];return e.some((e=>1==e))}return!0},isDisabledEditBtn(){const e=[this.formData.common.email!=this.getUserEmail,"保留中"==this.formData.common.status,"完了"==this.formData.common.status,"否認"==this.formData.common.status];return e.some((e=>1==e))}},methods:{...(0,D.nv)({fetchCollectionsByOneQuery:"firestore/fetchCollectionsByOneQuery",fetchMyDetail:"firestore/fetchMyDetail",fetchOthersDetail:"firestore/fetchOthersDetail",fetchRequest:"firestore/fetchRequest",updateSubCollection:"firestore/updateSubCollection",sendEmail:"firestore/sendEmail"}),async fetchRequestDetail(){const e=this.$route.path,t=this.getUserEmail,a=this.$route.params.id;e.startsWith("/my/")?await this.fetchMyDetail({userId:t,docId:a}):e.startsWith("/others/")&&await this.fetchOthersDetail({userId:t,docId:a})},dateToStr24HPad0(e,t){return t||(t="YYYY/MM/DD hh:mm"),t=t.replace(/YYYY/g,e.getFullYear()),t=t.replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2)),t=t.replace(/DD/g,("0"+e.getDate()).slice(-2)),t=t.replace(/hh/g,("0"+e.getHours()).slice(-2)),t=t.replace(/mm/g,("0"+e.getMinutes()).slice(-2)),t=t.replace(/ss/g,("0"+e.getSeconds()).slice(-2)),t},async onClickApprove(){if(this.formData.common.current_step==this.formData.common.max_step){this.formData.common.routes.approvers[this.formData.common.current_step-1].status="完了",this.formData.common.status="完了",this.formData.common.current_approver_email="";const e=this.formData.common.email,t=this.$route.params.id,a="承認",s=this.formData;await this.updateSubCollection({userId:e,docId:t,item:s,operationType:a}),this.notifyToApplicant(a)}else{this.formData.common.routes.approvers[this.formData.common.current_step-1].status="完了",this.formData.common.status="保留中",this.formData.common.current_approver_email=this.formData.common.routes.approvers[this.formData.common.current_step-1].email,this.formData.common.current_step++;const e=this.formData.common.email,t=this.$route.params.id,a="承認",s=this.formData;await this.updateSubCollection({userId:e,docId:t,item:s,operationType:a});const r=this.formData.common.current_approver_email;this.notifyToApprover(r)}},async onClickDisapprove(){this.formData.common.routes.approvers[this.formData.common.current_step-1].status="否認",this.formData.common.status="否認",this.formData.common.current_approver_email="";const e=this.formData.common.email,t=this.$route.params.id,a="否認",s=this.formData;await this.updateSubCollection({userId:e,docId:t,item:s,operationType:a}),this.notifyToApplicant(a)},async onClickRemand(){this.formData.common.routes.approvers[this.formData.common.current_step-1].status="差戻し",this.formData.common.status="差戻し",this.formData.common.current_approver_email="";const e=this.formData.common.email,t=this.$route.params.id,a="差戻し",s=this.formData;await this.updateSubCollection({userId:e,docId:t,item:s,operationType:a}),this.notifyToApplicant(a)},async batchUpdate(e){const t=this.formData.common.email,a=this.$route.params.id;await this.fetchRequest({userId:t,docId:a});const s=this.requests,r=this.data;r.current_step=this.formData.common.current_step,s.status=this.latestStatus,r.status=this.latestStatus,s.current_approver_email=this.latestApproverEmail,this.updateSubCollection({userId:t,docId:a,itemRequest:s,itemDetail:r,operationType:e})},createEmailBody(e,t){const a=`${e}<br><br>詳細は下記リンクからご確認ください。<br><br><a href="${t}">${t}</a>`;return a},onClickEdit(){const e=this.formData;this.$refs.ItemDialogRequests.open("edit",e)},updateForm(e){this.formData=e},notifyToApplicant(e){const t=this.formData.common.email,a=`申請が${e}されました [${this.formData.common.title}]`,s=window.location.href,r=s.replace("/others","/my"),o=this.createEmailBody(a,r),i={to:t,subject:a,body:o};this.sendEmail({emailConfig:i})},notifyToApprover(e){const t=e,a=`[承認依頼] [${this.formData.common.title}]`,s=window.location.href,r=this.createEmailBody(a,s),o={to:t,subject:a,body:r};this.sendEmail({emailConfig:o})}},async created(){await this.fetchRequestDetail(),this.formData=this.requests}},ye=ke,Ze=(0,y.Z)(ye,De,_e,!1,null,null,null),we=Ze.exports,Te=function(){var e=this,t=e._self._c;return t("div",[t(x.Z,[t(C.EB,[t(I.Z,{attrs:{cols:"8"}},[t("div",{staticClass:"h5"},[e._v(" "+e._s(e.title)+" ")])]),t(f.Z),t(I.Z,{staticClass:"text-right",attrs:{cols:"4"}},[t(n.Z,{attrs:{dark:"",color:"secondary"},on:{click:e.onClickAdd}},[t(Y.Z,[e._v("mdi-plus")])],1)],1),t(I.Z,{attrs:{cols:"12"}},[t(P.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(W.Z,{staticClass:"text-no-wrap",attrs:{headers:e.tableHeaders,items:e.tableData,search:e.search,"footer-props":e.footerProps,"sort-by":"department","sort-desc":!1,"items-per-page":30,"mobile-breakpoint":"0"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(Y.Z,{staticClass:"mr-2",on:{click:function(t){return e.onClickEdit(a)}}},[e._v("mdi-pencil")]),t(Y.Z,{on:{click:function(t){return e.onClickDelete(a)}}},[e._v("mdi-delete")])]}}],null,!0)})],1),t("ItemDialogDepartments",{ref:"ItemDialogDepartments"}),t("DeleteDialog",{ref:"deleteDialog"})],1)},qe=[],xe=function(){var e=this,t=e._self._c;return t(X.Z,{attrs:{scrollable:"",persistent:"","max-width":"500px",eager:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(x.Z,[t(C.EB,[e._v(e._s(e.titleText))]),t(ee.Z),t(C.ZB,[t($.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(P.Z,{attrs:{label:"部署",rules:e.departmentRules},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1)],1),t(ee.Z),t(C.h7,[t(f.Z),t(n.Z,{attrs:{color:"grey darken-1",text:""},on:{click:e.onClickClose}},[e._v(" キャンセル ")]),t(n.Z,{attrs:{color:"primary",text:"",disabled:!e.valid},on:{click:e.onClickAction}},[e._v(" "+e._s(e.actionText)+" ")])],1)],1)],1)},Ce=[],Ie={name:"ItemDialogDepartments",data(){return{currentTableName:"departments",show:!1,valid:!1,menu:!1,actionType:"add",id:"",department:"",departmentRules:[e=>e.trim().length>0||"部署は必須です",e=>e.length<=32||"32文字以内で入力してください"]}},computed:{titleText(){return"add"===this.actionType?"データ追加":"データ編集"},actionText(){return"add"===this.actionType?"追加":"更新"}},methods:{...(0,D.nv)({addDocument:"firestore/addDocument",updateDocument:"firestore/updateDocument"}),open(e,t){this.show=!0,this.actionType=e,this.resetForm(t)},onClickClose(){this.show=!1},async onClickAction(){const e={id:this.id,department:this.department},t=this.currentTableName;"add"===this.actionType?await this.addDocument({item:e,currentTableName:t}):await this.updateDocument({item:e,currentTableName:t}),this.show=!1},resetForm(e={}){this.id=e.id||"",this.department=e.department||"",this.$refs.form.resetValidation()}}},Ae=Ie,Re=(0,y.Z)(Ae,xe,Ce,!1,null,null,null),Ne=Re.exports,Se=function(){var e=this,t=e._self._c;return t(X.Z,{attrs:{persistent:"","max-width":"290"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(x.Z,[t(C.EB),t(C.ZB,{staticClass:"black--text"},[e._v(" 削除しますか？ ")]),t(C.h7,[t(f.Z),t(n.Z,{attrs:{color:"grey",text:""},on:{click:e.onClickClose}},[e._v("キャンセル")]),t(n.Z,{attrs:{color:"error",text:""},on:{click:e.onClickDelete}},[e._v("削除")])],1)],1)],1)},Ee=[],Be={name:"DeleteDialog",data(){return{show:!1,item:{},currentTableName:""}},methods:{...(0,D.nv)({deleteDocument:"firestore/deleteDocument"}),open(e,t){this.show=!0,this.item=e,this.currentTableName=t},onClickClose(){this.show=!1},async onClickDelete(){const e=this.item,t=this.currentTableName;await this.deleteDocument({item:e,currentTableName:t}),this.show=!1}}},Ue=Be,$e=(0,y.Z)(Ue,Se,Ee,!1,null,null,null),Pe=$e.exports,Oe={name:"Departments",components:{ItemDialogDepartments:Ne,DeleteDialog:Pe},data(){return{currentTableName:"departments",title:"部署一覧",search:"",tableData:[]}},computed:{...(0,D.rn)({departments:e=>e.firestore.departments}),tableHeaders(){return[{text:"部署",value:"department",sortable:!0},{text:"操作",value:"actions",sortable:!1}]},footerProps(){return{itemsPerPageText:"",itemsPerPageOptions:[30,-1]}}},methods:{...(0,D.nv)({fetchAllCollections:"firestore/fetchAllCollections"}),onClickAdd(){this.$refs.ItemDialogDepartments.open("add")},onClickEdit(e){this.$refs.ItemDialogDepartments.open("edit",e)},onClickDelete(e){const t=this.currentTableName;this.$refs.deleteDialog.open(e,t)},async getRecords(){const e=this.currentTableName;await this.fetchAllCollections({currentTableName:e}),this.tableData=this.departments}},async created(){await this.getRecords()}},Me=Oe,Ve=(0,y.Z)(Me,Te,qe,!1,null,null,null),je=Ve.exports,Fe=function(){var e=this,t=e._self._c;return t(x.Z,[t(z.Z,{attrs:{grow:"",color:"primary"}},[t(Q.Z,{on:{click:function(t){return e.onClickTab("paid_leave")}}},[e._v("休暇申請")]),t(Q.Z,{on:{click:function(t){return e.onClickTab("equipment")}}},[e._v("備品申請")])],1),t(C.EB,[t(I.Z,{attrs:{cols:"8"}},[t("div",{staticClass:"h5"},[e._v(" "+e._s(e.title)+" ")])]),t(f.Z),t(I.Z,{staticClass:"text-right",attrs:{cols:"4"}},[t(n.Z,{attrs:{dark:"",color:"secondary"},on:{click:e.onClickAdd}},[t(Y.Z,[e._v("mdi-plus")])],1)],1),t(I.Z,{attrs:{cols:"12"}},[t(P.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(W.Z,{staticClass:"text-no-wrap",attrs:{headers:e.tableHeaders,items:e.tableData,search:e.search,"footer-props":e.footerProps,"sort-by":["department","order"],"sort-desc":[!1,!1],"items-per-page":30,"mobile-breakpoint":"0"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(Y.Z,{staticClass:"mr-2",on:{click:function(t){return e.onClickEdit(a)}}},[e._v("mdi-pencil")]),t(Y.Z,{on:{click:function(t){return e.onClickDelete(a)}}},[e._v("mdi-delete")])]}}],null,!0)}),t("ItemDialogRoutes",{ref:"ItemDialogRoutes"}),t("DeleteDialog",{ref:"deleteDialog"})],1)},Je=[],Le=function(){var e=this,t=e._self._c;return t(X.Z,{attrs:{scrollable:"",persistent:"","max-width":"700px",eager:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(x.Z,[t(C.EB,[e._v(e._s(e.titleText))]),t(ee.Z),t(C.ZB,[t($.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(te.Z,{attrs:{label:"部署",rules:e.departmentRules,items:e.departments,"item-text":"department","item-value":"department"},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),t(P.Z,{attrs:{label:"タイトル",rules:e.titleRules},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),t(P.Z,{attrs:{label:"承認者数",rules:e.numberOfApproversRules,readonly:""},model:{value:e.approvers.length,callback:function(t){e.$set(e.approvers,"length",t)},expression:"approvers.length"}}),t(W.Z,{staticClass:"text-no-wrap",attrs:{headers:e.tableHeaders,items:e.approvers,"footer-props":e.footerProps,"sort-by":["order"],"sort-desc":[!1],"items-per-page":30,"mobile-breakpoint":"0","hide-default-footer":""},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(Y.Z,{on:{click:function(t){return e.deleteApprover(a)}}},[e._v("mdi-delete")])]}}],null,!0)}),t(te.Z,{attrs:{label:"承認者",items:e.users,"item-text":e=>`${e.name} (${e.id})`,"return-object":""},model:{value:e.userInfo,callback:function(t){e.userInfo=t},expression:"userInfo"}}),t(f.Z),t(n.Z,{attrs:{color:"primary",text:"",disabled:!e.userInfo.id},on:{click:e.addApprover}},[e._v("追加")])],1)],1),t(ee.Z),t(C.h7,[t(f.Z),t(n.Z,{attrs:{color:"grey darken-1",text:""},on:{click:e.onClickClose}},[e._v(" キャンセル ")]),t(n.Z,{attrs:{color:"primary",text:"",disabled:!e.valid},on:{click:e.onClickAction}},[e._v(" "+e._s(e.actionText)+" ")])],1)],1)],1)},He=[],We={name:"ItemDialogRoutes",data(){return{currentTableName:"routes",currentTabName:"",show:!1,valid:!1,menu:!1,actionType:"add",id:"",department:"",title:"",userInfo:"",numberOfApprovers:"",approvers:[],readers:[],departmentRules:[e=>e.trim().length>0||"部署は必須です"],titleRules:[e=>e.trim().length>0||"タイトルは必須です"],numberOfApproversRules:[e=>e>0||"承認者は必須です"]}},computed:{...(0,D.rn)({departments:e=>e.firestore.departments,users:e=>e.firestore.users}),titleText(){return"add"===this.actionType?"データ追加":"データ編集"},actionText(){return"add"===this.actionType?"追加":"更新"},tableHeaders(){return[{text:"順序",value:"order",sortable:!1},{text:"メールアドレス",value:"email",sortable:!1},{text:"氏名",value:"name",sortable:!1},{text:"操作",value:"actions",sortable:!1}]},footerProps(){return{itemsPerPageText:"",itemsPerPageOptions:[30,-1]}}},methods:{...(0,D.nv)({addDocument:"firestore/addDocument",updateDocument:"firestore/updateDocument",fetchAllCollections:"firestore/fetchAllCollections"}),open(e,t,a){this.show=!0,this.actionType=e,this.currentTabName=a,this.getDepartments(),this.getUsers(),this.resetForm(t)},onClickClose(){this.show=!1},async onClickAction(){const e={id:this.id,request_type:this.currentTabName,department:this.department,title:this.title,approvers:this.approvers},t=this.currentTableName;"add"===this.actionType?await this.addDocument({item:e,currentTableName:t}):await this.updateDocument({item:e,currentTableName:t}),this.show=!1},addApprover(){const e={order:this.approvers.length+1,email:this.userInfo.id,name:this.userInfo.name};this.approvers.push(e),this.userInfo=[]},deleteApprover(e){const t=this.approvers,a=t.indexOf(e);t.splice(a,1)},resetForm(e={}){this.id=e.id||"",this.department=e.department||"",this.title=e.title||"",this.approvers=e.approvers||[],this.readers=e.readers||[],this.$refs.form.resetValidation()},async getDepartments(){const e="departments";await this.fetchAllCollections({currentTableName:e})},async getUsers(){const e="users";await this.fetchAllCollections({currentTableName:e})}}},Ye=We,Qe=(0,y.Z)(Ye,Le,He,!1,null,null,null),ze=Qe.exports,Ge={name:"Routes",data(){return{currentTableName:"routes",title:"申請ルート設定",search:"",tableData:[],currentTabName:"paid_leave"}},components:{ItemDialogRoutes:ze,DeleteDialog:Pe},computed:{...(0,D.rn)({routes:e=>e.firestore.routes}),tableHeaders(){return[{text:"部署",value:"department",sortable:!0},{text:"タイトル",value:"title",sortable:!1},{text:"操作",value:"actions",sortable:!1}]},footerProps(){return{itemsPerPageText:"",itemsPerPageOptions:[30,-1]}}},methods:{...(0,D.nv)({fetchCollectionsByOneQuery:"firestore/fetchCollectionsByOneQuery"}),onClickTab(e){this.setCurrentTabName(e),this.getRecords()},onClickAdd(){const e=this.currentTabName;this.$refs.ItemDialogRoutes.open("add",{},e)},onClickEdit(e){const t=this.currentTabName;this.$refs.ItemDialogRoutes.open("edit",e,t)},onClickDelete(e){const t=this.currentTableName;this.$refs.deleteDialog.open(e,t)},async getRecords(){const e=this.currentTableName,t={field:"request_type",compare:"==",value:this.currentTabName};await this.fetchCollectionsByOneQuery({currentTableName:e,customQuery:t}),this.tableData=this.routes},setCurrentTabName(e){this.currentTabName=e}},created(){this.getRecords()}},Ke=Ge,Xe=(0,y.Z)(Ke,Fe,Je,!1,null,null,null),et=Xe.exports,tt=function(){var e=this,t=e._self._c;return t("div",[t(x.Z,[t(C.EB,[t(I.Z,{attrs:{cols:"8"}},[t("div",{staticClass:"h5"},[e._v(" "+e._s(e.title)+" ")])]),t(f.Z),t(I.Z,{staticClass:"text-right",attrs:{cols:"4"}},[t(n.Z,{attrs:{dark:"",color:"secondary"},on:{click:e.onClickAdd}},[t(Y.Z,[e._v("mdi-plus")])],1)],1),t(I.Z,{attrs:{cols:"12"}},[t(P.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(W.Z,{staticClass:"text-no-wrap",attrs:{headers:e.tableHeaders,items:e.tableData,search:e.search,"footer-props":e.footerProps,"sort-by":"name","sort-desc":!1,"items-per-page":30,"mobile-breakpoint":"0"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(Y.Z,{on:{click:function(t){return e.onClickDelete(a)}}},[e._v("mdi-delete")])]}}],null,!0)})],1),t("ItemDialogAdmins",{ref:"ItemDialogAdmins"}),t("DeleteDialog",{ref:"deleteDialog"})],1)},at=[],st=function(){var e=this,t=e._self._c;return t(X.Z,{attrs:{scrollable:"",persistent:"","max-width":"500px",eager:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(x.Z,[t(C.EB,[e._v(e._s(e.titleText))]),t(ee.Z),t(C.ZB,[t($.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(te.Z,{attrs:{label:"管理者",items:e.users,"item-text":e=>`${e.name} (${e.id})`,"return-object":""},model:{value:e.userInfo,callback:function(t){e.userInfo=t},expression:"userInfo"}})],1)],1),t(ee.Z),t(C.h7,[t(f.Z),t(n.Z,{attrs:{color:"grey darken-1",text:""},on:{click:e.onClickClose}},[e._v(" キャンセル ")]),t(n.Z,{attrs:{color:"primary",text:"",disabled:!e.valid},on:{click:e.onClickAction}},[e._v(" "+e._s(e.actionText)+" ")])],1)],1)],1)},rt=[],ot={name:"ItemDialogAdmins",data(){return{currentTableName:"admins",show:!1,valid:!1,menu:!1,actionType:"add",userInfo:"",id:"",email:"",name:""}},computed:{...(0,D.rn)({users:e=>e.firestore.users}),titleText(){return"add"===this.actionType?"データ追加":"データ編集"},actionText(){return"add"===this.actionType?"追加":"更新"}},methods:{...(0,D.nv)({fetchAllCollections:"firestore/fetchAllCollections",addDocumentWithTextId:"firestore/addDocumentWithTextId",updateDocument:"firestore/updateDocument"}),open(e,t){this.show=!0,this.actionType=e,this.getUsers(),this.resetForm(t)},onClickClose(){this.show=!1},async onClickAction(){const e={id:this.userInfo.id,name:this.userInfo.name},t=this.currentTableName;"add"===this.actionType?await this.addDocumentWithTextId({item:e,currentTableName:t}):await this.updateDocument({item:e,currentTableName:t}),this.show=!1},resetForm(e={}){this.id=e.id||"",this.userInfo={name:e.name,email:e.email}||"",this.$refs.form.resetValidation()},async getUsers(){const e="users";await this.fetchAllCollections({currentTableName:e})}}},it=ot,nt=(0,y.Z)(it,st,rt,!1,null,null,null),lt=nt.exports,ct={name:"Admins",components:{ItemDialogAdmins:lt,DeleteDialog:Pe},data(){return{currentTableName:"admins",title:"管理者一覧",search:"",tableData:[]}},computed:{...(0,D.rn)({admins:e=>e.firestore.admins}),tableHeaders(){return[{text:"氏名",value:"name",sortable:!1},{text:"操作",value:"actions",sortable:!1}]},footerProps(){return{itemsPerPageText:"",itemsPerPageOptions:[30,-1]}}},methods:{...(0,D.nv)({fetchAllCollections:"firestore/fetchAllCollections"}),onClickAdd(){this.$refs.ItemDialogAdmins.open("add")},onClickEdit(e){this.$refs.ItemDialogAdmins.open("edit",e)},onClickDelete(e){const t=this.currentTableName;this.$refs.deleteDialog.open(e,t)},async getRecords(){const e=this.currentTableName;await this.fetchAllCollections({currentTableName:e}),this.tableData=this.admins}},async created(){await this.getRecords()}},mt=ct,ut=(0,y.Z)(mt,tt,at,!1,null,null,null),dt=ut.exports,pt=function(){var e=this,t=e._self._c;return t("div",[t(x.Z,[t(C.EB,[t(I.Z,{attrs:{cols:"8"}},[t("div",{staticClass:"h5"},[e._v(" "+e._s(e.title)+" ")])]),t(f.Z),t(I.Z,{staticClass:"text-right",attrs:{cols:"4"}},[t(n.Z,{attrs:{dark:"",color:"secondary"},on:{click:e.onClickAdd}},[t(Y.Z,[e._v("mdi-plus")])],1)],1),t(I.Z,{attrs:{cols:"12"}},[t(P.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(W.Z,{staticClass:"text-no-wrap",attrs:{headers:e.tableHeaders,items:e.tableData,search:e.search,"footer-props":e.footerProps,"sort-by":"department","sort-desc":!1,"items-per-page":30,"mobile-breakpoint":"0"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(Y.Z,{staticClass:"mr-2",on:{click:function(t){return e.onClickEdit(a)}}},[e._v("mdi-pencil")]),t(Y.Z,{on:{click:function(t){return e.onClickDelete(a)}}},[e._v("mdi-delete")])]}}],null,!0)})],1),t("ItemDialogUsers",{ref:"ItemDialogUsers"}),t("DeleteDialog",{ref:"deleteDialog"})],1)},ht=[],ft=function(){var e=this,t=e._self._c;return t(X.Z,{attrs:{scrollable:"",persistent:"","max-width":"500px",eager:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(x.Z,[t(C.EB,[e._v(e._s(e.titleText))]),t(ee.Z),t(C.ZB,[t($.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(te.Z,{attrs:{label:"部署",rules:e.departmentRules,items:e.departments,"item-text":"department","item-value":"department"},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),t(P.Z,{attrs:{label:"メールアドレス",rules:e.emailRules,readonly:"edit"==e.actionType},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t(P.Z,{attrs:{label:"氏名",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),t(ee.Z),t(C.h7,[t(f.Z),t(n.Z,{attrs:{color:"grey darken-1",text:""},on:{click:e.onClickClose}},[e._v(" キャンセル ")]),t(n.Z,{attrs:{color:"primary",text:"",disabled:!e.valid},on:{click:e.onClickAction}},[e._v(" "+e._s(e.actionText)+" ")])],1)],1)],1)},vt=[],bt={name:"ItemDialogUsers",data(){return{currentTableName:"users",show:!1,valid:!1,menu:!1,actionType:"add",id:"",department:"",email:"",name:"",departmentRules:[e=>e.trim().length>0||"部署は必須です"],emailRules:[e=>e.trim().length>0||"メールアドレスは必須です",e=>e.trim().length<=32||"メールアドレスは32文字以内で入力してください"],nameRules:[e=>e.trim().length>0||"氏名は必須です",e=>e.trim().length<=32||"氏名は32文字以内で入力してください"]}},computed:{...(0,D.rn)({departments:e=>e.firestore.departments}),titleText(){return"add"===this.actionType?"データ追加":"データ編集"},actionText(){return"add"===this.actionType?"追加":"更新"}},methods:{...(0,D.nv)({addDocumentWithTextId:"firestore/addDocumentWithTextId",updateDocument:"firestore/updateDocument",fetchAllCollections:"firestore/fetchAllCollections"}),open(e,t){this.show=!0,this.actionType=e,this.getDepartments(),this.resetForm(t)},onClickClose(){this.show=!1},async onClickAction(){const e={id:this.email,department:this.department,name:this.name},t=this.currentTableName;"add"===this.actionType?await this.addDocumentWithTextId({item:e,currentTableName:t}):await this.updateDocument({item:e,currentTableName:t}),this.show=!1},resetForm(e={}){this.id=e.id||"",this.department=e.department||"",this.email=e.id||"",this.name=e.name||"",this.$refs.form.resetValidation()},async getDepartments(){const e="departments";await this.fetchAllCollections({currentTableName:e})}}},gt=bt,Dt=(0,y.Z)(gt,ft,vt,!1,null,null,null),_t=Dt.exports,kt={name:"Users",components:{ItemDialogUsers:_t,DeleteDialog:Pe},data(){return{currentTableName:"users",title:"従業員一覧",search:"",tableData:[]}},computed:{...(0,D.rn)({users:e=>e.firestore.users}),tableHeaders(){return[{text:"部署",value:"department",sortable:!0},{text:"メールアドレス",value:"id",sortable:!1},{text:"氏名",value:"name",sortable:!1},{text:"操作",value:"actions",sortable:!1}]},footerProps(){return{itemsPerPageText:"",itemsPerPageOptions:[30,-1]}}},methods:{...(0,D.nv)({fetchAllCollections:"firestore/fetchAllCollections"}),onClickAdd(){this.$refs.ItemDialogUsers.open("add")},onClickEdit(e){this.$refs.ItemDialogUsers.open("edit",e)},onClickDelete(e){const t=this.currentTableName;this.$refs.deleteDialog.open(e,t)},async getRecords(){const e=this.currentTableName;await this.fetchAllCollections({currentTableName:e}),this.tableData=this.users}},created(){this.getRecords()}},yt=kt,Zt=(0,y.Z)(yt,pt,ht,!1,null,null,null),wt=Zt.exports,Tt=function(){var e=this,t=e._self._c;return t("div",[t(A.Z,[t(I.Z,{attrs:{col:"12"}},[t(x.Z,[t(C.EB,[e._v(e._s(e.title))]),t(C.ZB,[t(f.Z)],1),t(C.h7,[t(n.Z,{attrs:{dark:"",color:"secondary"},on:{click:e.onClickAdd}},[t(Y.Z,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" 追加テスト ")],1)],1)],1)],1)],1),t("ItemDialogRequests",{ref:"ItemDialogRequests"})],1)},qt=[],xt={name:"ItemDIalogTest",components:{ItemDialogRequests:me},data(){return{title:"テスト"}},computed:{},methods:{onClickAdd(){this.$refs.ItemDialogRequests.open("add")}},created(){}},Ct=xt,It=(0,y.Z)(Ct,Tt,qt,!1,null,null,null),At=It.exports,Rt=function(){var e=this,t=e._self._c;return t("div",[t(A.Z,{attrs:{justify:"center"}},[t(I.Z,{attrs:{cols:"12",md:"6",xs:"12"}},[t(x.Z,[t(C.ZB,[t($.Z,{attrs:{readonly:""}},[t(P.Z,{attrs:{label:"タイトル"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1)],1),t(C.h7,[t(n.Z,{on:{click:function(t){return e.updateValue()}}},[e._v("値を更新")])],1)],1)],1)],1),t("ItemDialogRequests",{ref:"ItemDialogRequests"})],1)},Nt=[],St={name:"FormReactivityTest",components:{ItemDialogRequests:me},data(){return{title:"FormReactivityTest",formData:{}}},computed:{...(0,D.rn)({testFormData:e=>e.firestore.testFormData}),...(0,D.Se)({getUserEmail:"firebase/getUserEmail"})},methods:{...(0,D.nv)({fetchMyTestFormData:"firestore/fetchMyTestFormData"}),onClickAdd(){this.$refs.ItemDialogRequests.open("add")},updateValue(){this.formData.title="値が変更されました"}},async created(){const e=this.getUserEmail,t="spNTUth2YEpRcB4KJEFo";await this.fetchMyTestFormData({userId:e,docId:t}),this.formData=this.testFormData}},Et=St,Bt=(0,y.Z)(Et,Rt,Nt,!1,null,null,null),Ut=Bt.exports,$t=function(){var e=this,t=e._self._c;return t("div",[t(A.Z,{attrs:{justify:"center"}},[t(I.Z,{attrs:{cols:"12",md:"6",xs:"12"}},[t(x.Z,[t(C.ZB,[t($.Z,{attrs:{readonly:""}},[t(P.Z,{attrs:{label:"タイトル"}})],1)],1),t(C.h7,[t(n.Z,[e._v("test")])],1)],1)],1)],1)],1)},Pt=[],Ot={name:"SendEmailTest",components:{},data(){return{title:"SendEmailTest"}},computed:{},methods:{},async created(){}},Mt=Ot,Vt=(0,y.Z)(Mt,$t,Pt,!1,null,null,null),jt=Vt.exports;s.ZP.use(T.ZP);const Ft=[{path:"/",name:"RequestOverview",component:he,meta:{requiresAuth:!0}},{path:"/my/requests/:id",name:"myRequestDetail",component:we,meta:{requiresAuth:!0}},{path:"/others/requests/:id",name:"othersRequestDetail",component:we,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:U,beforeEnter(e,t,a){const s=(0,q.v0)();(0,q.Aj)(s,(e=>{e?a("/"):a()}))}},{path:"/settings",name:"Settings",component:J,meta:{requiresAuth:!0}},{path:"/departments",name:"Departments",component:je,meta:{requiresAuth:!0}},{path:"/routes",name:"Routes",component:et,meta:{requiresAuth:!0}},{path:"/admins",name:"Admins",component:dt,meta:{requiresAuth:!0}},{path:"/users",name:"Users",component:wt,meta:{requiresAuth:!0}},{path:"/item_dialog_test",name:"ItemDIalogTest",component:At,meta:{requiresAuth:!0}},{path:"/form_reactivity_test",name:"FormReactivityTest",component:Ut,meta:{requiresAuth:!0}},{path:"/send_email_test",name:"SendEmailTest",component:jt,meta:{requiresAuth:!0}}],Jt=new T.ZP({base:"/vue-gas-workflow/",routes:Ft});Jt.beforeEach(((e,t,a)=>{const s=e.matched.some((e=>e.meta.requiresAuth));if(s){const t=(0,q.v0)();(0,q.Aj)(t,(t=>{t?a():a({path:"/login",query:{redirect:e.fullPath}})}))}else a()}));var Lt=Jt,Ht=a(9669),Wt=a.n(Ht);const Yt=Wt().create({headers:{"content-type":"text/plain"}});Yt.interceptors.response.use((e=>e.data.error?Promise.reject(e.data.error):Promise.resolve(e)),(e=>Promise.reject(e)));let Qt="";const zt=e=>{Qt=e};let Gt="";const Kt=e=>{Gt=e},Xt=e=>Yt.post(Qt,{method:"POST",authToken:Gt,params:{emailConfig:e}});var ea={setUrl:zt,setAuthToken:Kt,sendEmail:Xt};const ta={settings:{appName:"ワークフロー",apiUrl:"",authToken:""}},aa={saveSettings(e,{settings:t}){e.settings={...t};const{appName:a,apiUrl:s,authToken:r}=e.settings;document.title=a,ea.setUrl(s),ea.setAuthToken(r),localStorage.setItem("settings",JSON.stringify(t))},loadSettings(e){const t=JSON.parse(localStorage.getItem("settings"));t&&(e.settings=Object.assign(e.settings,t));const{appName:a,apiUrl:s,authToken:r}=e.settings;document.title=a,ea.setUrl(s),ea.setAuthToken(r)}},sa={saveSettings({commit:e},{settings:t}){e("saveSettings",{settings:t})},loadSettings({commit:e}){e("loadSettings")}},ra={};var oa={namespaced:!0,state:ta,mutations:aa,actions:sa,getters:ra};const ia={loggedIn:!1,userUid:"",userName:"",userIcon:"",userEmail:"",authMessage:""},na={setLoginStatus(e,t){e.loggedIn=t},setUserUid(e,t){e.userUid=t},setUserName(e,t){e.userName=t},setUserIcon(e,t){e.userIcon=t},setUserEmail(e,t){e.userEmail=t},setAuthMessage(e,t){e.authMessage=t}},la={async login({commit:e}){console.log("login action");const t=new q.hJ,a=(0,q.v0)();await(0,q.rh)(a,t).then((t=>{const a=t.user;e("setUserUid",a.uid),e("setUserName",a.displayName),e("setUserIcon",a.photoURL),e("setUserEmail",a.email),e("setAuthMessage","ログインしました。"),console.log("login success")})).catch((e=>{const t=e.code,a=e.message;console.log("login error: ",t,a)})),await(0,q.Fb)(a,q.a$).then((()=>{console.log("keeping state")})).catch((e=>{const t=e.code,a=e.message;console.log("keeping state error: ",t,a)}))},logout({commit:e}){const t=(0,q.v0)();(0,q.w7)(t).then((()=>{e("setAuthMessage","ログアウトしました。"),console.log("logout success"),e("setLoginStatus",!1)})).catch((e=>{console.log("logout error",e)}))},onAuth({commit:e}){const t=(0,q.v0)();(0,q.Aj)(t,(t=>{t=t||{},e("setUserUid",t.uid),e("setUserName",t.displayName),e("setLoginStatus",!!t.uid),e("setUserIcon",t.photoURL),e("setUserEmail",t.email),console.log("onAuth")}))}},ca={getLoginStatus(e){return e.loggedIn},getUserUid(e){return e.userUid},getUserName(e){return e.userName},getUserIcon(e){return e.userIcon},getUserEmail(e){return e.userEmail}};var ma={namespaced:!0,state:ia,mutations:na,actions:la,getters:ca},ua=a(3977),da=a(9828);const pa={apiKey:"AIzaSyCheZvfsN7MBNDc2gAPcwbH9uXREw8vlJo",authDomain:"vue-gas-workflow-auth.firebaseapp.com",projectId:"vue-gas-workflow-auth",storageBucket:"vue-gas-workflow-auth.appspot.com",messagingSenderId:{NODE_ENV:"production",VUE_APP_APIKEY:"AIzaSyCheZvfsN7MBNDc2gAPcwbH9uXREw8vlJo",VUE_APP_AUTHDOMAIN:"vue-gas-workflow-auth.firebaseapp.com",VUE_APP_PROJECTID:"vue-gas-workflow-auth",VUE_APP_STORAGEBUCKET:"vue-gas-workflow-auth.appspot.com",VUE_APP_MESSAGINGSENDERID:"1046023525328",VUE_APP_APPID:"1:1046023525328:web:b7e1344c644108f2ccdfd5",VUE_APP_EMAIL_HOST:"mail.fts-com.jp",VUE_APP_EMAIL_USER:"admin-workflow@fts-com.jp",VUE_APP_EMAIL_PASS:"pafw14#9999",VUE_APP_EMAIL_FROM:"管理者<admin-workflow@fts-com.jp>",VUE_APP_EMAIL_TO:"masaki@fts-com.jp",BASE_URL:"/vue-gas-workflow/"}.VUE_APP_MESSAGESENDER,appId:"1:1046023525328:web:b7e1344c644108f2ccdfd5"},ha=(0,ua.ZF)(pa),fa=(0,da.ad)(ha);var va=fa;const ba={workflowMessage:"",requests:[],myRequests:[],othersRequests:[],details:[],users:[],departments:[],routes:[],admins:[],testFormData:[],userInfo:"",arrayRoute:[],selectedTabName:""},ga={setWorkflowMessage(e,t){e.workflowMessage=t},setState(e,{collections:t,currentTableName:a}){e[a]=t},addState(e,{item:t,currentTableName:a}){const s=e[a];s.push(t)},updateState(e,{item:t,currentTableName:a}){const s=e[a],r=s.findIndex((e=>e.id===t.id));s.splice(r,1,t)},deleteState(e,{id:t,currentTableName:a}){const s=e[a],r=s.findIndex((e=>e.id===t));s.splice(r,1)},setUserInfo(e,{userInfo:t}){e.userInfo=t},setArrayRoute(e,{route:t}){e.arrayRoute=t},setSelectedTabName(e,{selectedTabName:t}){e.selectedTabName=t}},Da={async fetchAllCollections({commit:e},{currentTableName:t}){const a=(0,da.IO)((0,da.hJ)(va,t)),s=await(0,da.PL)(a),r=[];s.forEach((e=>{r.push({...e.data(),id:e.id})})),e("setState",{collections:r,currentTableName:t})},async addDocument({commit:e},{item:t,currentTableName:a}){const s=(0,da.hJ)(va,a),r=await(0,da.ET)(s,t),o=await(0,da.QT)(r),i={...o.data(),id:o.id};e("addState",{item:i,currentTableName:a}),e("setWorkflowMessage","データを追加しました。")},async addDocumentWithTextId({commit:e},{item:t,currentTableName:a}){const s=(0,da.JU)(va,a,t.id);await(0,da.pl)(s,t);const r=await(0,da.QT)(s),o=r.data();e("addState",{item:o,currentTableName:a})},async updateDocument({commit:e},{item:t,currentTableName:a}){const s=(0,da.JU)(va,a,t.id);await(0,da.r7)(s,t),e("updateState",{item:t,currentTableName:a}),e("setWorkflowMessage","データを更新しました。")},async deleteDocument({commit:e},{item:t,currentTableName:a}){const s=t.id,r=(0,da.JU)(va,a,t.id);await(0,da.oe)(r,t),e("deleteState",{id:s,currentTableName:a}),e("setWorkflowMessage","データを削除しました。")},async fetchCollectionsByOneQuery({commit:e},{currentTableName:t,customQuery:a}){const s=(0,da.IO)((0,da.hJ)(va,t),(0,da.ar)(a.field,a.compare,a.value)),r=await(0,da.PL)(s),o=[];r.forEach((e=>{o.push({...e.data(),id:e.id})})),e("setState",{collections:o,currentTableName:t})},async fetchCollectionByDocId({commit:e},{currentTableName:t,docId:a}){const s=(0,da.JU)(va,t,a),r=await(0,da.QT)(s),o={...r.data(),id:r.id};e("setState",{collections:o,currentTableName:t})},async fetchMyDetail({commit:e},{userId:t,docId:a}){const s=(0,da.JU)(va,"users",t,"requests",a),r=await(0,da.QT)(s),o=r.data();e("setState",{collections:o,currentTableName:"requests"})},async fetchOthersDetail({commit:e},{userId:t,docId:a}){const s=(0,da.IO)((0,da.B$)(va,"requests"),(0,da.ar)("id","==",a),(0,da.ar)("common.current_approver_email","==",t)),r=await(0,da.PL)(s),o=[];r.forEach((e=>{o.push({...e.data(),id:e.id})}));const i=o[0];e("setState",{collections:i,currentTableName:"requests"})},async fetchRequest({commit:e},{userId:t,docId:a}){const s=(0,da.JU)(va,"users",t,"requests",a),r=await(0,da.QT)(s),o=r.data();e("setState",{collections:o,currentTableName:"requests"})},async fetchMyRequests({commit:e},{userId:t}){const a=(0,da.hJ)(va,"users",t,"requests"),s=await(0,da.PL)(a),r=[];s.forEach((e=>{r.push({...e.data(),id:e.id})})),e("setState",{collections:r,currentTableName:"myRequests"})},async fetchOthersRequests({commit:e},{userId:t}){const a=(0,da.IO)((0,da.B$)(va,"requests"),(0,da.ar)("common.current_approver_email","==",t)),s=await(0,da.PL)(a),r=[];s.forEach((e=>{r.push({...e.data(),id:e.id})})),e("setState",{collections:r,currentTableName:"othersRequests"})},async addDocumentAsSubCollection({commit:e},{uid:t,userId:a,item:s}){const r=(0,da.JU)(va,"users",a,"requests",t);await(0,da.pl)(r,s);const o=await(0,da.QT)(r),i=o.data();e("addState",{item:i,currentTableName:"myRequests"}),e("setWorkflowMessage","申請を提出しました。")},async updateDocumentInSubCollection({commit:e},{docId:t,userId:a,item:s}){const r=(0,da.JU)(va,"users",a,"requests",t);await(0,da.pl)(r,s);const o=await(0,da.QT)(r),i=o.data();e("setState",{item:i,currentTableName:"requests"}),e("setWorkflowMessage","申請を再提出しました。")},async batchAddSubCollectionsToUsers({commit:e},{uid:t,userId:a,item:s}){const r=(0,da.qs)(va),o=(0,da.JU)(va,"users",a,"requests",t),i=(0,da.JU)(va,"users",a,"requests",t,"details",t);r.set(o,s.request),r.set(i,s.detail),await r.commit();const n=await(0,da.QT)(o),l={...n.data(),id:t};e("addState",{item:l,currentTableName:"myRequests"}),e("setWorkflowMessage","申請を提出しました。")},async updateSubCollection({commit:e},{userId:t,docId:a,item:s,operationType:r}){const o=(0,da.JU)(va,"users",t,"requests",a);await(0,da.r7)(o,s),e("setState",{item:s,currentTableName:"requests"}),e("setWorkflowMessage",`申請を${r}しました。`)},async fetchUserInfo({commit:e},{userId:t}){const a=await(0,da.QT)((0,da.JU)(va,"users",t)),s=a.data();e("setUserInfo",{userInfo:s})},async createArrayRoute({commit:e},{requestTypeValue:t,department:a}){const s=await _a(t,a);e("setArrayRoute",{route:s})},setSelectedTabName({commit:e},{selectedTabName:t}){e("setSelectedTabName",{selectedTabName:t})},async sendEmail({commit:e},{emailConfig:t}){await ea.sendEmail(t),e("setWorkflowMessage","メール送信しました。")},async fetchMyTestFormData({commit:e},{userId:t,docId:a}){const s=(0,da.JU)(va,"users",t,"testFormData",a),r=await(0,da.QT)(s),o=r.data();e("setState",{collections:o,currentTableName:"testFormData"}),e("setWorkflowMessage","データを取得しました。")}};async function _a(e,t){const a="routes",s=(0,da.IO)((0,da.hJ)(va,a),(0,da.ar)("request_type","==",e),(0,da.ar)("department","==",t)),r=await(0,da.PL)(s),o=[];return r.forEach((e=>{o.push({...e.data(),id:e.id})})),o}const ka={getArrayRoute(e){return e.arrayRoute}};var ya={namespaced:!0,state:ba,mutations:ga,actions:Da,getters:ka};s.ZP.use(D.ZP);var Za=new D.ZP.Store({modules:{workflow:oa,firebase:ma,firestore:ya}}),wa=a(1705);s.ZP.use(wa.Z);var Ta=new wa.Z({theme:{themes:{light:{primary:"#546e7a",primaryLighten:"#819ca9",primaryDarken:"#29434e",secondary:"#6d4c41",secondaryLighten:"#9c786c",secondaryDarken:"#40241a",error:"#e53935",warning:"#ffb300",info:"#1e88e5",success:"#7cb342"}}}});s.ZP.config.productionTip=!1;const qa=async()=>{await Za.dispatch("firebase/onAuth"),new s.ZP({router:Lt,store:Za,vuetify:Ta,render:e=>e(w)}).$mount("#app")};qa()}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var i=1/0;for(m=0;m<e.length;m++){s=e[m][0],r=e[m][1],o=e[m][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[s,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,i=s[0],n=s[1],l=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(l)var m=l(a)}for(t&&t(s);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(m)},s=self["webpackChunkvue_gas_workflow"]=self["webpackChunkvue_gas_workflow"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(9995)}));s=a.O(s)})();
//# sourceMappingURL=app.c10c2a91.js.map